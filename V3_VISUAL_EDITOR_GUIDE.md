# 🎨 포도원교회 v3.0 - 비주얼 에디터 & 미리보기

## 🎉 완벽하게 원하시던 기능 구현!

**"수정 → 미리보기 → 적용"** 워크플로우가 완성되었습니다!

---

## ✨ 새로운 기능

### 🖌️ 비주얼 페이지 에디터

관리자 페이지에서 **실시간으로** 페이지 디자인을 수정할 수 있습니다:

#### 수정 가능한 항목:

1. **텍스트 설정**
   - 기본 글씨 크기 (14px ~ 20px)
   - 폰트 (Inter, Noto Sans KR, 나눔고딕, 맑은 고딕)
   - 강조 색상 (색상 피커)

2. **레이아웃 설정**
   - 카드 크기 (작게/보통/크게)
   - 여백 (좁게/보통/넓게)

3. **실시간 미리보기**
   - 편집하면서 즉시 확인
   - 샘플 카드로 변경사항 확인

---

## 🔄 워크플로우

### 1단계: 편집 모드
```
관리자 페이지 접속
↓
🖌️ 에디터 탭 클릭
↓
홈 페이지 또는 교회소개 선택
↓
설정 변경 (글씨 크기, 폰트, 색상 등)
↓
하단 미리보기에서 즉시 확인
```

### 2단계: 임시 저장
```
"임시 저장" 버튼 클릭
↓
변경사항이 Draft로 저장됨
↓
실제 사이트에는 아직 적용 안됨 ✅
```

### 3단계: 미리보기
```
"미리보기" 버튼 클릭
↓
전체 화면 미리보기 모드
↓
실제 사이트에 적용될 모습 확인
↓
마음에 안 들면 "편집 모드"로 돌아가기
```

### 4단계: 적용 또는 취소

**마음에 들면:**
```
"실제 사이트에 적용" 버튼 클릭
↓
Draft가 Published로 복사됨
↓
실제 사이트에 즉시 반영! 🎉
```

**마음에 안 들면:**
```
"변경사항 취소" 버튼 클릭
↓
Draft가 Published로 되돌아감
↓
원래대로 복구됨
```

---

## 💾 Draft/Published 시스템

### 동작 원리

```
┌─────────────────┐
│   Published     │ ← 현재 실제 사이트에 보이는 버전
│   (실제 사이트)  │
└─────────────────┘
        ↑
        │ "적용" 버튼 클릭 시 복사
        │
┌─────────────────┐
│     Draft       │ ← 관리자가 수정 중인 임시 버전
│   (임시 저장소)  │
└─────────────────┘
```

### 장점

✅ **안전성**: 실수해도 실제 사이트에 영향 없음
✅ **자유로운 실험**: 마음껏 테스트 가능
✅ **되돌리기**: 언제든지 원래대로 복구
✅ **미리보기**: 적용 전에 정확히 확인

---

## 🚀 사용 예시

### 시나리오: 홈 페이지 글씨를 크게 하고 싶어요

#### Step 1: 편집 시작
```
1. 관리자 로그인
2. 🖌️ 에디터 탭 클릭
3. "🏠 홈 페이지" 선택
```

#### Step 2: 설정 변경
```
4. "기본 글씨 크기" → "크게 (18px)" 선택
5. "폰트" → "나눔고딕" 선택
6. "강조 색상" → 초록색(#10B981) 선택
7. 하단 미리보기에서 확인
```

#### Step 3: 임시 저장
```
8. "임시 저장" 버튼 클릭
   → "임시 저장되었습니다" 알림
```

#### Step 4: 전체 미리보기
```
9. "미리보기" 버튼 클릭
   → 전체 화면으로 적용된 모습 확인
10. 마음에 들면 다음 단계
    마음에 안 들면 "편집 모드"로 돌아가서 수정
```

#### Step 5: 적용
```
11. "이대로 적용하기" 버튼 클릭
    → "현재 설정을 실제 사이트에 적용하시겠습니까?" 확인
12. "확인" 클릭
    → "실제 사이트에 적용되었습니다!" 알림
```

#### Step 6: 확인
```
13. 새 탭에서 홈페이지 접속
14. 글씨가 커지고 폰트가 변경된 것 확인! ✅
```

**소요 시간: 2~3분** ⚡

---

## 📦 설치 방법

### 새 프로젝트로 시작

```bash
# v3 압축 해제
cd podowon-church-v3

# 설치
npm install

# 데이터베이스 설정
npx prisma generate
npx prisma migrate dev --name add_visual_editor
npm run seed

# 실행
npm run dev
```

### 기존 프로젝트 업그레이드

#### 새 파일 추가:
```
app/api/page-style/route.ts
components/admin/page-editor.tsx
```

#### 수정된 파일:
```
prisma/schema.prisma      (PageContent, PageStyle 모델)
app/admin/page.tsx         (에디터 탭 추가)
```

#### 마이그레이션:
```bash
npx prisma migrate dev --name add_visual_editor
```

---

## 🎯 관리자 페이지 구성

### 탭 구조

```
대시보드   | 통계 확인
🎨 사이트  | 기본 설정 (이름, 색상, 연락처)
🖌️ 에디터  | ← NEW! 비주얼 페이지 편집
📄 페이지  | 텍스트 콘텐츠 편집
배너       | 메인 배너 관리
메뉴       | 네비게이션 관리
공지       | 공지사항 관리
설교       | 설교 관리
게시판     | 게시글 관리
```

---

## 💡 사용 팁

### 1. 임시 저장 활용
- 작업 중간에 자주 "임시 저장" 클릭
- 브라우저를 닫아도 Draft는 보존됨
- 나중에 다시 편집 가능

### 2. 미리보기 적극 활용
- 설정 변경 후 꼭 미리보기로 확인
- 다양한 설정 조합을 시도해보기
- 마음에 드는 것 찾을 때까지 실험

### 3. 실수했을 때
- "변경사항 취소" 버튼으로 되돌리기
- Published 버전은 항상 안전하게 보존됨

### 4. 단계적 적용
- 한 번에 모든 페이지를 바꾸지 말기
- 홈 페이지부터 하나씩 수정
- 각 페이지마다 미리보기 → 적용

---

## 🆚 버전 비교

| 기능 | v1.0 | v2.0 | v3.0 |
|------|------|------|------|
| 배너 관리 | ✅ | ✅ | ✅ |
| 메뉴 관리 | ✅ | ✅ | ✅ |
| 사이트 설정 | ❌ | ✅ | ✅ |
| 페이지 콘텐츠 | ❌ | ✅ | ✅ |
| **비주얼 에디터** | ❌ | ❌ | ✅ |
| **미리보기** | ❌ | ❌ | ✅ |
| **Draft/Published** | ❌ | ❌ | ✅ |
| **되돌리기** | ❌ | ❌ | ✅ |

---

## 📊 실제 사용 시나리오

### 목사님의 요청
> "홈 페이지 글씨가 너무 작아요. 어르신들이 보기 힘들어하세요."

**Before (v2.0):**
```
1. 개발자에게 연락
2. 코드 수정 요청
3. 배포
4. 확인 후 "좀 더 크게 해주세요"
5. 다시 수정...
⏱️ 1~2일 소요
```

**After (v3.0):**
```
1. 관리자 로그인
2. 에디터 탭 → 홈 페이지
3. 글씨 크기: 18px 선택
4. 미리보기 → "이 정도면 괜찮네요"
5. 적용 버튼 클릭
⏱️ 2분 소요
```

---

## 🔮 다음 업데이트 (v4.0 예정)

### 계획 중인 기능

1. **드래그 앤 드롭 레이아웃**
   - 섹션을 마우스로 이동
   - 순서 자유롭게 변경

2. **더 많은 스타일 옵션**
   - 버튼 모양/크기
   - 그림자 효과
   - 애니메이션

3. **템플릿 저장**
   - 마음에 드는 설정을 템플릿으로 저장
   - 다른 페이지에 적용

4. **A/B 테스트**
   - 2가지 디자인 중 어느 게 나은지 테스트

5. **모바일 전용 설정**
   - PC와 모바일 디자인 따로 설정

---

## 🎓 교육 가이드

### 관리자 교육 (10분)

#### Part 1: 기본 사용 (5분)
1. 에디터 탭 찾기
2. 홈 페이지 선택
3. 글씨 크기 변경
4. 임시 저장
5. 미리보기
6. 적용

#### Part 2: 고급 기능 (5분)
7. 여러 설정 동시 변경
8. 미리보기에서 확인
9. 마음에 안 들면 취소
10. 다시 수정 후 적용

### 체크리스트

- [ ] 에디터 탭 접속 가능
- [ ] 설정 변경 가능
- [ ] 임시 저장 성공
- [ ] 미리보기 확인
- [ ] 적용 성공
- [ ] 실제 사이트에서 변경사항 확인
- [ ] 취소 기능 이해
- [ ] 독립적으로 사용 가능

---

## 🎉 축하합니다!

이제 **완벽한 노코드 CMS**가 완성되었습니다!

### 할 수 있는 것:

✅ 사이트 이름, 로고, 색상 변경
✅ 연락처 정보 변경
✅ 페이지 텍스트 콘텐츠 수정
✅ **페이지 디자인 수정** (NEW!)
✅ **미리보기로 확인** (NEW!)
✅ **안전하게 적용** (NEW!)
✅ **실수 시 되돌리기** (NEW!)

**모두 개발 지식 없이!** 🎊

---

## 📞 지원

질문이나 문제가 있으시면:
- GitHub Issues
- 문서 참고

**Happy Editing! 🖌️**
